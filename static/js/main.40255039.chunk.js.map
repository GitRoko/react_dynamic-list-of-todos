{"version":3,"sources":["components/TodoList/TodoList.tsx","api.ts","components/CurrentUser/CurrentUser.tsx","App.tsx","index.tsx"],"names":["TodoList","todos","onSelect","visibleTodos","getVisibleTodos","query","className","map","todo","classnames","TodoList__item","completed","type","readOnly","checked","title","onClick","userId","id","getData","endpoint","fetch","then","response","ok","Error","status","json","CurrentUser","onSetSelectedUserId","useState","user","setUser","errorText","setError","useEffect","getUser","catch","error","toString","name","email","phone","App","TodoStatus","selectedUserId","setSelectedUserId","setTodos","setQuery","selectValue","setSelectValue","data","placeholder","value","onChange","event","currentTarget","target","Object","keys","key","todosFromServer","queryFromInput","filteredTodos","filter","toLowerCase","includes","All","Active","Completed","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.40255039.chunk.js","sourcesContent":["/* eslint-disable jsx-a11y/label-has-associated-control */\nimport React from 'react';\nimport './TodoList.scss';\nimport classnames from 'classnames';\n\ntype Props = {\n  todos: Todo[],\n  onSelect: (userId: number) => void,\n  getVisibleTodos: (todos: Todo[], query: string) => Todo[],\n  query: string,\n};\n\nexport const TodoList: React.FC<Props> = ({\n  todos,\n  onSelect,\n  getVisibleTodos,\n  query,\n}) => {\n  const visibleTodos = getVisibleTodos(todos, query);\n\n  return (\n    <div className=\"TodoList\">\n\n      <div className=\"TodoList__list-container\">\n        <ul className=\"TodoList__list\">\n          {visibleTodos.map(todo => (\n            <li\n              className={classnames({\n                TodoList__item: true,\n                'TodoList__item--unchecked': !todo.completed,\n                'TodoList__item--checked': todo.completed,\n              })}\n              key={todo.id}\n            >\n              <label>\n                <input\n                  type=\"checkbox\"\n                  readOnly\n                  checked={todo.completed}\n                />\n                <p>{todo.title}</p>\n              </label>\n\n              <button\n                className=\"\n                TodoList__user-button\n                TodoList__user-button--selected\n                button\n              \"\n                type=\"button\"\n                onClick={() => onSelect(todo.userId)}\n              >\n                User&nbsp;#\n                {todo.userId}\n              </button>\n            </li>\n          ))}\n        </ul>\n      </div>\n    </div>\n  );\n};\n","const API_URL = 'https://mate.academy/students-api/';\n\nconst getData = (endpoint: string) => {\n  return fetch(`${API_URL}/${endpoint}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(`Status of error: ${response.status}`);\n      }\n\n      return response.json();\n    });\n};\n\nexport const getTodos = (): Promise<Todo[]> => getData('todos');\n\nexport const getUser = (userId: number): Promise<User> => getData(`users/${userId}`);\n","import React, { useEffect, useState } from 'react';\nimport { getUser } from '../../api';\nimport './CurrentUser.scss';\n\ntype Props = {\n  userId: number,\n  onSetSelectedUserId: (id: number) => void,\n};\n\nexport const CurrentUser: React.FC<Props> = ({ userId, onSetSelectedUserId }) => {\n  const [user, setUser] = useState<User | null>(null);\n  const [errorText, setError] = useState('');\n\n  useEffect(() => {\n    getUser(userId)\n      .then(setUser)\n      .catch((error) => setError(error.toString()));\n  }, [userId]);\n\n  if (errorText) {\n    return (\n      <div>\n        {errorText}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"CurrentUser\">\n      {user ? (\n        <>\n          <h2 className=\"CurrentUser__title\">\n            <span>\n              Selected user:&nbsp;#\n              {userId}\n            </span>\n          </h2>\n\n          <h3 className=\"CurrentUser__name\">{user.name}</h3>\n          <p className=\"CurrentUser__email\">{user.email}</p>\n          <p className=\"CurrentUser__phone\">{user.phone}</p>\n          <button\n            className=\"\n              TodoList__user-button\n              TodoList__user-button--selected\n              button\n            \"\n            type=\"button\"\n            onClick={() => onSetSelectedUserId(0)}\n          >\n            Clear\n          </button>\n        </>\n      ) : (\n        <p>loading...</p>\n      )}\n    </div>\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport './App.scss';\nimport './styles/general.scss';\nimport { TodoList } from './components/TodoList';\nimport { CurrentUser } from './components/CurrentUser';\nimport { getTodos } from './api';\n\nconst App: React.FC = () => {\n  const [selectedUserId, setSelectedUserId] = useState(0);\n  const [todos, setTodos] = useState<Todo[] | null>(null);\n  const [errorText, setError] = useState('');\n  const [query, setQuery] = useState('');\n  const [selectValue, setSelectValue] = useState('');\n\n  useEffect(() => {\n    getTodos()\n      .then(data => setTodos(data))\n      .catch((error) => setError(error.toString()));\n  }, []);\n\n  if (errorText) {\n    return (\n      <div>\n        {errorText}\n      </div>\n    );\n  }\n\n  enum TodoStatus {\n    All = 'All',\n    Active = 'Active',\n    Completed = 'Completed',\n  }\n\n  const getVisibleTodos = (\n    todosFromServer: Todo[],\n    queryFromInput: string,\n  ): Todo[] => {\n    let filteredTodos = todos;\n\n    filteredTodos = todosFromServer.filter(todo => (\n      todo.title.toLowerCase().includes(queryFromInput.toLowerCase())\n    ));\n\n    switch (selectValue) {\n      case TodoStatus.All:\n        return filteredTodos;\n\n      case TodoStatus.Active:\n        return filteredTodos.filter(todo => !todo.completed);\n\n      case TodoStatus.Completed:\n        return filteredTodos.filter(todo => todo.completed);\n\n      default:\n        return filteredTodos;\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <div className=\"App__sidebar\">\n        <h2>Todos:</h2>\n\n        <input\n          type=\"text\"\n          className=\"TodoList__input\"\n          placeholder=\"Type search word\"\n          value={query}\n          onChange={(event: React.ChangeEvent<HTMLInputElement>) => {\n            setQuery(event.currentTarget.value);\n          }}\n        />\n\n        <select\n          className=\"TodoList__select\"\n          onChange={(event) => setSelectValue(event.target.value)}\n          value={selectValue}\n        >\n          {Object.keys(TodoStatus).map(key => (\n\n            <option\n              value={key}\n              key={key}\n            >\n              {key}\n            </option>\n\n          ))}\n        </select>\n\n        {todos ? (\n          <TodoList\n            todos={todos}\n            onSelect={setSelectedUserId}\n            getVisibleTodos={getVisibleTodos}\n            query={query}\n          />\n        ) : (\n          <p>loading...</p>\n        )}\n      </div>\n\n      <div className=\"App__content\">\n        <div className=\"App__content-container\">\n          {selectedUserId ? (\n            <CurrentUser\n              userId={selectedUserId}\n              onSetSelectedUserId={setSelectedUserId}\n            />\n          ) : 'No user selected'}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}